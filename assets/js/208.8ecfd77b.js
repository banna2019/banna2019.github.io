(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{539:function(a,r,s){"use strict";s.r(r);var t=s(4),e=Object(t.a)({},(function(){var a=this,r=a._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h4",{attrs:{id:"terraform命令介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#terraform命令介绍"}},[a._v("#")]),a._v(" Terraform命令介绍")]),a._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 执行terraform命令")]),a._v("\n$ terraform init \n$ terraform "),r("span",{pre:!0,attrs:{class:"token function"}},[a._v("fmt")]),a._v(" 或 terraform init "),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-recursive")]),a._v("\n$ terraform validate\n$ terraform plan\n$ terraform apply 或 terraform apply -auto-approve\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 自动迁移状态")]),a._v("\n$ terraform init -migrate-state\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 存储当前配置而不更改状态")]),a._v("\n$ terraform init "),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-reconfigure")]),a._v("\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br"),r("span",{staticClass:"line-number"},[a._v("4")]),r("br"),r("span",{staticClass:"line-number"},[a._v("5")]),r("br"),r("span",{staticClass:"line-number"},[a._v("6")]),r("br"),r("span",{staticClass:"line-number"},[a._v("7")]),r("br"),r("span",{staticClass:"line-number"},[a._v("8")]),r("br"),r("span",{staticClass:"line-number"},[a._v("9")]),r("br"),r("span",{staticClass:"line-number"},[a._v("10")]),r("br"),r("span",{staticClass:"line-number"},[a._v("11")]),r("br")])]),r("h5",{attrs:{id:"terraform-init-初始化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#terraform-init-初始化"}},[a._v("#")]),a._v(" terraform init(初始化)")]),a._v(" "),r("ul",[r("li",[a._v("-plugin-dir=PATH  插件目录(适用于terraform本地缓存)")]),a._v(" "),r("li",[a._v("-backend-config backend配置")])]),a._v(" "),r("h5",{attrs:{id:"terraform-plan-执行计划"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#terraform-plan-执行计划"}},[a._v("#")]),a._v(" terraform plan(执行计划)")]),a._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 保存计划的记录到文件中")]),a._v("\n$ terraform plan "),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-out")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("show.plan\n$ terraform apply show.plan\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br")])]),r("p",[r("strong",[a._v("参数")])]),a._v(" "),r("ul",[r("li",[a._v("-out=path 计划存储位置")]),a._v(" "),r("li",[a._v("-state=path 状态文件的位置,"),r("code",[a._v("terraform.tfstate")])]),a._v(" "),r("li",[a._v("-var 'foo=bar' 输入变量")]),a._v(" "),r("li",[a._v("-var-file=foo 输入变量文件")])]),a._v(" "),r("h5",{attrs:{id:"terraform-apply-执行操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#terraform-apply-执行操作"}},[a._v("#")]),a._v(" terraform apply(执行操作)")]),a._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("-backup-path：保存备份文件的路径.默认等于-state-out参数后加上"),r("span",{pre:!0,attrs:{class:"token string"}},[a._v('".backup"')]),a._v("后缀.设置为"),r("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-"')]),a._v("可关闭\n-compact-warnings：如果Terraform生成了一些告警信息而没有伴随的错误信息,那么以只显示消息总结的精简形式展示告警\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lock")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true：执行时是否先锁定状态文件\n-lock-timeout"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("0s：尝试重新获取状态锁的间隔\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-input")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true：在无法获取输入变量的值是是否提示用户输入\n-auto-approve：跳过交互确认步骤，直接执行变更\n-no-color：禁用输出中的颜色\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-parallelism")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("n：限制Terraform遍历图时的最大并行度,默认值为10\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-refresh")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true：指定变更计划及执行变更前是否先查询记录的基础设施对象现在的状态以刷新状态文件\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-state")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("path：保存状态文件的路径,默认值是"),r("span",{pre:!0,attrs:{class:"token string"}},[a._v('"terraform.tfstate"')]),a._v(".如果使用了远程Backend该参数设置无效.\n-state-out"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("path：写入更新的状态文件的路径,默认情况使用-state的值.该参数在使用远程Backend时设置无效\n"),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-var")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[a._v("'foo=bar'")]),a._v("：设置一组输入变量的值.\n-var-file"),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("foo：指定一个输入变量文件.\n")])]),a._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[a._v("1")]),r("br"),r("span",{staticClass:"line-number"},[a._v("2")]),r("br"),r("span",{staticClass:"line-number"},[a._v("3")]),r("br"),r("span",{staticClass:"line-number"},[a._v("4")]),r("br"),r("span",{staticClass:"line-number"},[a._v("5")]),r("br"),r("span",{staticClass:"line-number"},[a._v("6")]),r("br"),r("span",{staticClass:"line-number"},[a._v("7")]),r("br"),r("span",{staticClass:"line-number"},[a._v("8")]),r("br"),r("span",{staticClass:"line-number"},[a._v("9")]),r("br"),r("span",{staticClass:"line-number"},[a._v("10")]),r("br"),r("span",{staticClass:"line-number"},[a._v("11")]),r("br"),r("span",{staticClass:"line-number"},[a._v("12")]),r("br"),r("span",{staticClass:"line-number"},[a._v("13")]),r("br")])]),r("h5",{attrs:{id:"terraform-destroy-销毁资源"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#terraform-destroy-销毁资源"}},[a._v("#")]),a._v(" terraform destroy(销毁资源)")])])}),[],!1,null,null,null);r.default=e.exports}}]);