(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{520:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h4",{attrs:{id:"一、gvm-go-version-manager"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、gvm-go-version-manager"}},[s._v("#")]),s._v(" 一、"),n("code",[s._v("GVM - Go Version Manager")])]),s._v(" "),n("p",[n("code",[s._v("Go")]),s._v(" 语言版本管理器("),n("code",[s._v("GVM")]),s._v(")是管理 "),n("code",[s._v("Go")]),s._v(" 语言环境的开源工具."),n("code",[s._v("GVM 「pkgsets」")]),s._v(" 支持安装多个版本的 "),n("code",[s._v("Go")]),s._v(" 并管理每个项目的模块.它最初由 "),n("code",[s._v("Josh Bussdieker")]),s._v(" 开发,"),n("code",[s._v("GVM")]),s._v(" 与 "),n("code",[s._v("Ruby RVM")]),s._v(" 类似,允许你为每个项目或一组项目创建一个开发环境,分离不同的 "),n("code",[s._v("Go")]),s._v(" 版本和包依赖关系,来提供更大的灵活性,以防不同版本造成的问题."),n("code",[s._v("GVM")]),s._v(" 主要有以下几个特性：")]),s._v(" "),n("ul",[n("li",[s._v("管理 "),n("code",[s._v("Go")]),s._v(" 的多个版本,包括安装、卸载和指定使用 "),n("code",[s._v("Go")]),s._v(" 的某个版本")]),s._v(" "),n("li",[s._v("查看官方所有可用的 "),n("code",[s._v("Go")]),s._v(" 版本,同时可以查看本地已安装和默认使用的 "),n("code",[s._v("Go")]),s._v(" 版本")]),s._v(" "),n("li",[s._v("管理多个 "),n("code",[s._v("GOPATH")]),s._v(",并可编辑 "),n("code",[s._v("Go")]),s._v(" 的环境变量")]),s._v(" "),n("li",[s._v("可将当前目录关联到 "),n("code",[s._v("GOPATH")])]),s._v(" "),n("li",[s._v("可以查看 "),n("code",[s._v("GOROOT")]),s._v(" 下的文件差异")]),s._v(" "),n("li",[s._v("支持 "),n("code",[s._v("Go")]),s._v(" 版本切换")])]),s._v(" "),n("blockquote",[n("p",[s._v("项目地址：https://github.com/moovweb/gvm")])]),s._v(" "),n("h4",{attrs:{id:"二、安装-gvm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、安装-gvm"}},[s._v("#")]),s._v(" 二、安装 GVM")]),s._v(" "),n("h5",{attrs:{id:"_2-1-依赖安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-依赖安装"}},[s._v("#")]),s._v(" 2.1.依赖安装")]),s._v(" "),n("p",[n("code",[s._v("GVM")]),s._v(" 本质上就是一个 "),n("code",[s._v("SHELL")]),s._v(" 脚本,它背后做的事情是先把源码下载下来,再用 "),n("code",[s._v("C")]),s._v(" 做编译.所以,安装 "),n("code",[s._v("GVM")]),s._v(" 前你需要先安装一些依赖包.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Debian/Ubuntu")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" mercurial "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" binutils bison gcc build-essential\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redhat/Centos")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" bison\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" glibc-devel\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# macOS")]),s._v("\n$ xcode-select "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--install")]),s._v("\n$ brew update\n$ brew "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mercurial\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("strong",[s._v("注意：")]),n("code",[s._v("Centos")]),s._v(" 官方仓库没有 "),n("code",[s._v("mercurial")]),s._v(" 软件包,如果你需要可以在 "),n("code",[s._v("mercurial")]),s._v(" 官网 "),n("code",[s._v("https://www.mercurial-scm.org/downloads")]),s._v(" 下载后安装.")]),s._v(" "),n("h5",{attrs:{id:"_2-2-安装gvm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-安装gvm"}},[s._v("#")]),s._v(" 2.2.安装GVM")]),s._v(" "),n("p",[s._v("安装好依赖环境后, "),n("code",[s._v("GVM")]),s._v(" 的安装也很简单.官方提供了一键安装脚本,你只需直接运行就行了.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash环境安装")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# zsh环境安装")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("如果使用的是 "),n("code",[s._v("zsh")]),s._v(" 的话将前面的 "),n("code",[s._v("bash")]),s._v(" 改为 "),n("code",[s._v("zsh")]),s._v(" 即可,这条命令主要是检查相关依赖环境并下载 "),n("code",[s._v("GVM")]),s._v(" 相关的文件,然后创建所需目录,并且在 "),n("code",[s._v(".bashrc")]),s._v(" 或者 "),n("code",[s._v(".zshrc")]),s._v(" 中加入：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载环境变量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/wcl/.gvm/scripts/gvm"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/wcl/.gvm/scripts/gvm"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"三、使用-gvm-安装和管理-go-版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、使用-gvm-安装和管理-go-版本"}},[s._v("#")]),s._v(" 三、使用 GVM 安装和管理 Go 版本")]),s._v(" "),n("p",[s._v("可以开始使用"),n("code",[s._v("GVM")]),s._v("来安装和管理不同版本的 "),n("code",[s._v("Go")]),s._v(".首先,可以用 "),n("code",[s._v("gvm listall")]),s._v(" 命令显示可以下载和编译可用的 "),n("code",[s._v("Go")]),s._v(" 版本.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ banna@burcedeMacBook-Pro ~ $ gvm listall\n\ngvm gos "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("available"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n   go1\n   go1.0.1\n   go1.0.2\n   go1.0.3\n   go1.1\n   go1.1rc2\n   go1.1rc3\n   go1.1.1\n   go1.1.2\n   go1.2\n   go1.2rc2\n   go1.2rc3\n   go1.2rc4\n   go1.2rc5\n   go1.2.1\n   go1.2.2\n   go1.3\n   go1.3beta1\n   go1.3beta2\n   go1.3rc1\n   go1.3rc2\n   go1.3.1\n   go1.3.2\n   go1.3.3\n   go1.4\n   go1.4beta1\n   go1.4rc1\n   go1.4rc2\n   go1.4.1\n   go1.4.2\n   go1.4.3\n   go1.5\n   go1.5beta1\n   go1.5beta2\n   go1.5beta3\n   go1.5rc1\n   go1.5.1\n   go1.5.2\n   go1.5.3\n   go1.5.4\n   go1.6\n   go1.6beta1\n   go1.6beta2\n   go1.6rc1\n   go1.6rc2\n   go1.6.1\n   go1.6.2\n   go1.6.3\n   go1.6.4\n   go1.7\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br")])]),n("p",[s._v("安装特定的 "),n("code",[s._v("Go")]),s._v(" 版本只需运行 "),n("code",[s._v("gvm install <version>")]),s._v("命令,其中 "),n("code",[s._v("<version>")]),s._v(" 是表示要安装的版本.假设正在处理一个使用 "),n("code",[s._v("Go 1.15.5")]),s._v(" 版本的项目,你就可以使用 "),n("code",[s._v("gvm install go1.15.5")]),s._v(" 命令来安装这个版本.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本")]),s._v("\n$ gvm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" go1.15.5\nInstalling go1.15.5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n * Compiling"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ngo1.15.5 successfully installed"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看本地安装的版本信息")]),s._v("\n$ gvm list\ngvm gos "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("installed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   go1.15.5\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" system\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换golang版本")]),s._v("\n$ gvm use go1.15.5\nNow using version go1.15.5\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前golang版本")]),s._v("\n$ go version\ngo version go1.15.5 linux/amd64\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换默认使用golang版本")]),s._v("\n$ gvm use go1.15.5 "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--default")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("blockquote",[n("p",[s._v("由于 "),n("code",[s._v("Go 1.5")]),s._v(" 使用了自举(用 "),n("code",[s._v("Go")]),s._v(" 编译 "),n("code",[s._v("Go")]),s._v("),如果在系统环境完全没有 "),n("code",[s._v("Go")]),s._v(" 命令的情况下,直接使用 "),n("code",[s._v("gvm install go")]),s._v(" 会报错.所以,你必须先安装 "),n("code",[s._v("Go 1.4")]),s._v(".")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先安装 1.4 版本的,-B 表示只安装二进制包.")]),s._v("\n$ gvm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" go1.4 "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-B")]),s._v("  \n$ gvm use go1.4  \n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOROOT_BOOTSTRAP")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOROOT")]),s._v("  \n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再安装 1.5+ 版本的")]),s._v("\n$ gvm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" go1.15.5\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h4",{attrs:{id:"四、使用-gvm-pkgset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、使用-gvm-pkgset"}},[s._v("#")]),s._v(" 四、使用 GVM pkgset")]),s._v(" "),n("p",[s._v("默认情况下,如果通过 "),n("code",[s._v("go get")]),s._v(" 获取一个包,它会被下载到 "),n("code",[s._v("$GOPATH")]),s._v(" 目录中的 "),n("code",[s._v("src")]),s._v(" 和 "),n("code",[s._v("pkg")]),s._v(" 目录下.然后可以使用 "),n("code",[s._v("import")]),s._v(" 将其引入到 "),n("code",[s._v("Go")]),s._v(" 程序中.然而,在不同的项目中管理相同包的不同版本就会变得困难.")]),s._v(" "),n("p",[n("code",[s._v("GVM")]),s._v(" 通过使用「"),n("code",[s._v("pkgsets")]),s._v("」将项目的新目录附加到 "),n("code",[s._v("Go")]),s._v(" 安装版本的默认 "),n("code",[s._v("$GOPATH")]),s._v(",类似 "),n("code",[s._v("Linux")]),s._v(" 系统上的 "),n("code",[s._v("$PATH")]),s._v(",这样就可以很好地完成了项目之间包的管理和隔离.来看一个实例,安装一个新版本的 "),n("code",[s._v("Go 1.15.5")]),s._v(".")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ gvm "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" go1.15.5\nInstalling go1.15.5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n * Compiling"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ngo1.15.5 successfully installed\n\n$ gvm use go1.15.5\nNow using version go1.15.5\n\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("\n/Users/banna/.gvm/pkgsets/go1.15.5/global\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("当 "),n("code",[s._v("GVM")]),s._v(" 被告知使用一个新版本时,它将会更换一个新的 "),n("code",[s._v("$GOPATH")]),s._v(","),n("code",[s._v("gloabl pkgset")]),s._v(" 将默认使用该版本.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("\n/home/chris/.gvm/pkgsets/go1.15.5/global\n\n$  gvm pkgset list\ngvm go package sets "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("go1.15.5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  global\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("blockquote",[n("p",[s._v("尽管默认情况下没有安装额外的包,但是 "),n("code",[s._v("global pkgset")]),s._v(" 中的包对于使用这个特定版本 "),n("code",[s._v("Go")]),s._v(" 的任何项目都是可用的.")])]),s._v(" "),n("p",[s._v("现在,假设你正在启动一个新项目,它需要一个特定的包.首先,使用 "),n("code",[s._v("GVM")]),s._v(" 创建一个名为 "),n("code",[s._v("introToGvm")]),s._v(" 的新的 "),n("code",[s._v("pkgset")]),s._v(".")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ gvm pkgset create introToGvm\n\n$ gvm pkgset use introToGvm\nNow using version go1.15.5@introToGvm\n\n$ gvm pkgset list\ngvm go package sets "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("go1.15.5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    global\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  introToGvm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("如上所述,一个与 "),n("code",[s._v("pkgset")]),s._v(" 同名的新目录 "),n("code",[s._v("introToGvm")]),s._v(" 被添加到 "),n("code",[s._v("$GOPATH")]),s._v(".")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v("\n/Users/banna/.gvm/pkgsets/go1.15.5/introToGvm:/Users/banna/.gvm/pkgsets/go1.15.5/global\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("接下来,验证下新目录 "),n("code",[s._v("introToGvm")]),s._v(" 中的目录结构.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $1}'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<<")]),s._v(" $GOPATH "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n/Users/banna/.gvm/pkgsets/go1.15.5/introToGvm\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\noverlay  pkg  src\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果没有`pkg`,`src`需要手动创建")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ./"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pkg,src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("blockquote",[n("p",[s._v("注意：新目录看起来很像普通的 "),n("code",[s._v("$GOPATH")]),s._v(",新的 "),n("code",[s._v("Go")]),s._v(" 包会被 "),n("code",[s._v("Go get")]),s._v(" 命令下载并且被添加到 "),n("code",[s._v("pkgset")]),s._v(" 中.")])]),s._v(" "),n("p",[s._v("最后,使用以下命令获取一个 "),n("code",[s._v("gorilla/mux")]),s._v(" 包,然后检查 "),n("code",[s._v("pkgset")]),s._v(" 下的内容.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ go get github.com/gorilla/mux\n$ tree ./\n./\n├── overlay\n│   ├── bin\n│   └── lib\n│       └── pkgconfig\n├── pkg\n│   ├── mod\n│   │   ├── cache\n│   │   │   └── download\n│   │   │       ├── github.com\n│   │   │       │   └── gorilla\n│   │   │       │       └── mux\n│   │   │       │           └── @v\n│   │   │       │               ├── list\n│   │   │       │               ├── list.lock\n│   │   │       │               ├── v1.8.0.info\n│   │   │       │               ├── v1.8.0.lock\n│   │   │       │               ├── v1.8.0.mod\n│   │   │       │               ├── v1.8.0.zip\n│   │   │       │               └── v1.8.0.ziphash\n│   │   │       └── sumdb\n│   │   │           └── sum.golang.org\n│   │   │               ├── lookup\n│   │   │               │   └── github.com\n│   │   │               │       └── gorilla\n│   │   │               │           └── mux@v1.8.0\n│   │   │               └── tile\n│   │   │                   └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n│   │   │                       ├── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n│   │   │                       │   ├── x006\n│   │   │                       │   │   └── 042\n│   │   │                       │   └── x047\n│   │   │                       │       └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("819")]),s._v(".p\n│   │   │                       │           └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("\n│   │   │                       ├── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n│   │   │                       │   ├── 023\n│   │   │                       │   └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("186")]),s._v(".p\n│   │   │                       │       └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("203")]),s._v("\n│   │   │                       └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n│   │   │                           └── 000.p\n│   │   │                               └── "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("186")]),s._v("\n│   │   └── github.com\n│   │       └── gorilla\n│   │           └── mux@v1.8.0\n│   │               ├── AUTHORS\n│   │               ├── LICENSE\n│   │               ├── README.md\n│   │               ├── bench_test.go\n│   │               ├── doc.go\n│   │               ├── example_authentication_middleware_test.go\n│   │               ├── example_cors_method_middleware_test.go\n│   │               ├── example_route_test.go\n│   │               ├── go.mod\n│   │               ├── middleware.go\n│   │               ├── middleware_test.go\n│   │               ├── mux.go\n│   │               ├── mux_httpserver_test.go\n│   │               ├── mux_test.go\n│   │               ├── old_test.go\n│   │               ├── regexp.go\n│   │               ├── regexp_test.go\n│   │               ├── route.go\n│   │               └── test_helpers.go\n│   └── sumdb\n│       └── sum.golang.org\n│           └── latest\n└── src\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" directories, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" files\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br")])]),n("p",[s._v("如上所示,"),n("code",[s._v("gorilla/mux")]),s._v(" 按照预期添加到了 "),n("code",[s._v("pkgset")]),s._v(" 的 "),n("code",[s._v("$GOPATH")]),s._v(" 目录,现在你就可以与使用该 "),n("code",[s._v("pkgset")]),s._v(" 的项目一起使用该模块了.")]),s._v(" "),n("h4",{attrs:{id:"五、卸载-gvm-或指定版本-go-语言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五、卸载-gvm-或指定版本-go-语言"}},[s._v("#")]),s._v(" 五、卸载 GVM 或指定版本 Go 语言")]),s._v(" "),n("p",[s._v("1.如果只是想卸载某个安装好的 "),n("code",[s._v("Go")]),s._v(" 版本,可以使用以下指令.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ gvm uninstall go1.15.5\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("2.如果想完全卸载掉 GVM 和 所有安装的 Go 版本,可以使用以下指令.")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ gvm implode\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);