(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{495:function(s,t,n){"use strict";n.r(t);var a=n(4),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"file文件操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file文件操作"}},[s._v("#")]),s._v(" File文件操作")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("file")]),s._v("类是在"),t("code",[s._v("os")]),s._v("包中的,封装了底层的文件描述符和相关信息,同时封装了"),t("code",[s._v("Read")]),s._v("和"),t("code",[s._v("Write")]),s._v("的实现")])]),s._v(" "),t("h4",{attrs:{id:"一、fileinfo接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、fileinfo接口"}},[s._v("#")]),s._v(" 一、FileInfo接口")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("FileInfo")]),s._v(": https://golang.google.cn/pkg/os/#FileInfo")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("FileInfo")]),s._v("接口中定义了"),t("code",[s._v("File")]),s._v("信息相关的方法.")])])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" FileInfo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// base name of the file 文件名,扩展名 aa.txt")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int64")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//文件大小,字节数 12540")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" FileMode "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件权限 -rw-rw-rw-")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ModTime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Time "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改时间 2018-04-13 16:30:53 +0000 CST")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("IsDir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//是否文件夹")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Sys")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//基础数据源接口{can return nil}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"二、权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、权限"}},[s._v("#")]),s._v(" 二、权限")]),s._v(" "),t("p",[s._v("至于操作权限"),t("code",[s._v("perm")]),s._v(",除非创建文件时才需要指定,不需要创建新文件时可以将其设定为"),t("code",[s._v("0")]),s._v(".虽然"),t("code",[s._v("go")]),s._v("语言给"),t("code",[s._v("perm")]),s._v("权限设定了很多常量,但是习惯上也可以使用数字,如"),t("code",[s._v("666")]),s._v("(具体含义和"),t("code",[s._v("Unix")]),s._v("系统的一致).")]),s._v(" "),t("p",[s._v("权限控制:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("linux 下有2中文件权限表示方式,即"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"符号表示"')]),s._v("和"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"八进制表示"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 符号表示方式:\n--\t\t---\t\t---\t\t---\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" \towner\tgroup\tothers\n文件的权限是这样子分配的 读 写 可执行 分别对应的是 r w x 如果没有一个权限,用 - 代替\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-文件 d目录 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("连接符号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n例如: -rwxr-xr-x\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 八进制表示方法:\nr ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 004\nw ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 002\nx ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 001\n- ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 000\n\n0755\n0777\n0555\n0444\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h4",{attrs:{id:"三、打开模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、打开模式"}},[s._v("#")]),s._v(" 三、打开模式")]),s._v(" "),t("p",[s._v("文件打开模式:")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    O_RDONLY "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_RDONY "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只读模式打开文件")]),s._v("\n    O_WRONLY "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_WRONLY "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//只写模式打开文件")]),s._v("\n    O_RDWR "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_RDWR "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//读写模式打开文件")]),s._v("\n    O_APPEND "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_APPEND "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//写操作时将数据附加到文件尾部")]),s._v("\n    O_CREATE "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_CREATE "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果不存在将创建一个新文件")]),s._v("\n    O_EXCL "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_EXCL "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//和`O_CREATE`配置使用,文件必须不存在")]),s._v("\n    O_SYNC "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_SYNC "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//打开文件用于异步I/O")]),s._v("\n    O_TRUNC "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("O_TRUNC "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果核能,打开时清空文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" FileMode "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("uint32")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The defined file mode bits are the most significant bits of the FileMode.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The nine least-significant bits are the standard Unix rwxrwxrwx permissions.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The values of these bits should be considered part of the public API and")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// may be used in wire protocols or disk representations: they must not be")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// changed, although new bits might be added.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The single letters are the abbreviations")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// used by the String method's formatting.")]),s._v("\n\tModeDir        FileMode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("iota")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// d: is a directory")]),s._v("\n\tModeAppend                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a: append-only")]),s._v("\n\tModeExclusive                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// l: exclusive use")]),s._v("\n\tModeTemporary                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// T: temporary file; Plan 9 only")]),s._v("\n\tModeSymlink                                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// L: symbolic link")]),s._v("\n\tModeDevice                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// D: device file")]),s._v("\n\tModeNamedPipe                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// p: named pipe (FIFO)")]),s._v("\n\tModeSocket                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// S: Unix domain socket")]),s._v("\n\tModeSetuid                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// u: setuid")]),s._v("\n\tModeSetgid                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// g: setgid")]),s._v("\n\tModeCharDevice                                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// c: Unix character device, when ModeDevice is set")]),s._v("\n\tModeSticky                                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// t: sticky")]),s._v("\n\tModeIrregular                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ?: non-regular file; nothing else is known about this file")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Mask for the type bits. For regular files, none will be set.")]),s._v("\n\tModeType "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ModeDir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeSymlink "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeNamedPipe "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeSocket "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeDevice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeCharDevice "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ModeIrregular\n\n\tModePerm FileMode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0777")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Unix permission bits")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("h4",{attrs:{id:"四、file操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、file操作"}},[s._v("#")]),s._v(" 四、File操作")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" File\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// File代表一个打开的文件对象.")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("File"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("err "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Create采用模式`0666`(任何人都可以读写,不可执行)创建一个名为`name`的文件,如果文件已存在就会截断它(为空文件).如果成功,返回的文件对象可用于`I/O`对应的文件描述符具有`O_RDWR`模式.如果出错,错误底层类型是`*PathError`.")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("File"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("err "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//`Open`打开一个文件用于读取,如果操作成功,返回的文件对象的方法可用于读取数据;对应的文件描述符具有`O_RDONLY`模式,如果出错,错误底层类型是`*PathError`")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("OpenFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("flag "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("perm FileMode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("File"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("err "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//`OpenFile`是一个更一般性的文件打开函数,大多数调用者都应用`Open`或`Create`代替本函数.它会使用指定的选项(如`O_RDONLY`等)、指定的模式(如`0666`等)打开指定名称的文件.如果操作成功,返回的文件对象可用于`I/O`.如果出错,错误底层类型是`*PathError`")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fd "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("uintptr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("File "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//`NewFile`使用给出的`Unix`文件描述符和名称创建一个文件.")]),s._v("\n\th "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Handle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" h "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" syscall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("InvalidHandle "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);