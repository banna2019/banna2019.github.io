(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{393:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("inux系统下每次"),n("code",[s._v("git pull")]),s._v(" "),n("code",[s._v("git push")]),s._v(" 都需要输入用户名密码")]),s._v(" "),n("h4",{attrs:{id:"方式一-git配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式一-git配置"}},[s._v("#")]),s._v(" 方式一 git配置")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("在用户家目录"),n("code",[s._v("~")]),s._v("生成"),n("code",[s._v(".git-credentials")]),n("strong",[s._v("username和password换成你自己的")])]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v('echo "https://{username}:{password}@github.com" > .git-credentials')])])])]),s._v(" "),n("li",[n("p",[s._v("添加到git 全局配置")]),s._v(" "),n("blockquote",[n("p",[s._v("git config --global credential.helper store`")])])]),s._v(" "),n("li",[n("p",[s._v("查看git配置")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("git config --list")])])]),s._v(" "),n("p",[s._v("输出内容包含"),n("code",[s._v("credential.helper=store")]),s._v(",就OK了")])])]),s._v(" "),n("h4",{attrs:{id:"方式二-expect实现shell-脚本自动输入账号密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式二-expect实现shell-脚本自动输入账号密码"}},[s._v("#")]),s._v(" 方式二：expect实现shell 脚本自动输入账号密码")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前提：系统中需要安装`expect`，脚本都有可执行权限")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装`expect`")]),s._v("\n\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("更新代码脚本"),n("code",[s._v("choujiang-build.sh")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# choujiang-build.sh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /data/front-B/build/lucky-draw-h5/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nnvm use v10.16.3\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build -- --http://h5.mymf.sudaotech.com/pay\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /data/front-B/choujiang  "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ./dist /data/front-B/choujiang\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n/usr/bin/nginx "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("\n/usr/bin/nginx "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("执行脚本过程中,模拟手输用户名、密码 的脚本"),n("code",[s._v("choujiang-pull.sh")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# choujiang-pull.sh ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/usr/bin/expect -f")]),s._v("\n\nspawn ./choujiang-build.sh  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在expect下执行choujiang-build.sh")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Username for 'http://w3test.meifu123.com'\"")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#expect监视终端 输出双引号中的文字")]),s._v("\nsend -- "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git用户名'),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 向终端发送指定信息,双横线后面有一个空格")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Password for 'http://git的用户名@gitlab.chsaos.com'\"")]),s._v("\nsend -- "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gitlab的用户的密码'),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\n\ninteract  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保持交互,不要退出.没有这句的话,完成后会自动退出.")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);