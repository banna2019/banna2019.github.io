(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{480:function(s,a,n){"use strict";n.r(a);var t=n(4),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"go语言中包的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go语言中包的使用"}},[s._v("#")]),s._v(" Go语言中包的使用")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Go")]),s._v("语言使用包"),a("code",[s._v("(package)")]),s._v("这种语法元素来组织源码,所有语法可见性均定义在"),a("code",[s._v("package")]),s._v("这个级别,与"),a("code",[s._v("Java 、python")]),s._v("等语言相比,这算不上什么创新,但与"),a("code",[s._v("C")]),s._v("传统的"),a("code",[s._v("include")]),s._v("相比,则是显得“先进”了许多.")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ tree ./\n./myblog\n├── conf\n│   └── app.conf\n├── controllers\n│   ├── aboutme_controller.go\n│   ├── add_article_controller.go\n│   ├── album_controller.go\n│   ├── base_controller.go\n│   ├── default.go\n│   ├── delete_article_controller.go\n│   ├── exit_controller.go\n│   ├── home_controller.go\n│   ├── login_controller.go\n│   ├── register_controller.go\n│   ├── show_article_controller.go\n│   ├── tags_controller.go\n│   ├── update_article_controller.go\n│   └── upload_controller.go\n├── main.go\n├── models\n│   ├── album_model.go\n│   ├── article_model.go\n│   ├── home_model.go\n│   ├── tags_model.go\n│   └── user_model.go\n├── myblogweb\n├── routers\n│   └── router.go\n├── static\n│   ├── css\n│   │   ├── blogsheet.css\n│   │   └── lib\n│   │       ├── highlight.css\n│   │       └── login.css\n│   ├── img\n│   ├── js\n│   │   ├── blog.js\n│   │   ├── lib\n│   │   │   ├── jquery-3.3.1.min.js\n│   │   │   └── jquery.url.js\n│   │   └── reload.min.js\n│   └── upload\n│       └── img\n│           └── "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n│               └── "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n│                   └── "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n│                       ├── "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1544511378")]),s._v("-bee2.png\n├── tests\n│   └── default_test.go\n├── utils\n│   ├── myUtils.go\n│   └── mysqlUtils.go\n└── views\n    ├── aboultme.html\n    ├── album.html\n    ├── block\n    │   ├── home_block.html\n    │   └── nav.html\n    ├── home.html\n    ├── index.tpl\n    ├── login.html\n    ├── register.html\n    ├── show_article.html\n    ├── tags.html\n    └── write_article.html\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br")])]),a("p",[a("code",[s._v("Go")]),s._v("语言的源码复用建立在包"),a("code",[s._v("(package)")]),s._v("基础之上.包通过"),a("code",[s._v("package, import, GOPATH")]),s._v("操作完成.")]),s._v(" "),a("h4",{attrs:{id:"_1、-main包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-main包"}},[s._v("#")]),s._v(" 1、 main包")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Go")]),s._v("语言的入口"),a("code",[s._v("main()")]),s._v("函数所在的包"),a("code",[s._v("(package)")]),s._v("叫"),a("code",[s._v("main")]),s._v(","),a("code",[s._v("main")]),s._v("包想要引用别的代码,需要"),a("code",[s._v("impor")]),s._v("t导入！")])]),s._v(" "),a("h4",{attrs:{id:"_2、-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-package"}},[s._v("#")]),s._v(" 2、 package")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("src")]),s._v("目录是以代码包的形式组织并保存"),a("code",[s._v("Go")]),s._v("源码文件的.每个代码包都和"),a("code",[s._v("src")]),s._v("目录下的文件夹一一对应.每个子目录都是一个代码包.")])]),s._v(" "),a("blockquote",[a("p",[s._v("代码包包名和文件目录名,不要求一致.比如文件目录叫"),a("code",[s._v("hello")]),s._v(",但是代码包包名可以声明为"),a("code",[s._v("main")]),s._v(",但是同一个目录下的源码文件第一行声明的所属包,必须一致！")])]),s._v(" "),a("p",[s._v("同一个目录下的所有."),a("code",[s._v("go")]),s._v("文件的第一行添加 包定义,以标记该文件归属的包,演示语法:")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" 包名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("包需要满足:")]),s._v(" "),a("ul",[a("li",[s._v("一个目录下的同级文件归属一个包.也就是说,在同一个包下面的所有文件的"),a("code",[s._v("package")]),s._v("名,都是一样的.")]),s._v(" "),a("li",[s._v("在同一个包下面的文件"),a("code",[s._v("package")]),s._v("名都建议设为是该目录名,但也可以不是.也就是说,包名可以与其目录不同名.")]),s._v(" "),a("li",[s._v("包名为"),a("code",[s._v("main")]),s._v("的包为应用程序的入口包,其他包不能使用.")])]),s._v(" "),a("blockquote",[a("p",[s._v("在同一个包下面的文件属于同一个工程文件,不用"),a("code",[s._v("import")]),s._v("包,可以直接使用")])]),s._v(" "),a("p",[s._v("包可以嵌套定义,对应的就是嵌套目录,但包名应该与所在的目录一致,例如：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件：src/tools/tool.go中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" tools\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 可以被导出的函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("FuncPublic")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不可以被导出的函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("funcPrivate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("strong",[s._v("包中,通过标识符首字母是否大写,来确定是否可以被导出.首字母大写才可以被导出,视为"),a("code",[s._v("public")]),s._v("公共的资源.")])]),s._v(" "),a("h4",{attrs:{id:"_3、-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-import"}},[s._v("#")]),s._v(" 3、 import")]),s._v(" "),a("ul",[a("li",[s._v("要引用其他包,可以使用"),a("code",[s._v("import")]),s._v("关键字,可以单个导入或者批量导入,语法演示")])]),s._v(" "),a("p",[a("strong",[s._v("A：通常导入")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 单个导入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 批量导入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package1"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package2"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("B：点操作")])]),s._v(" "),a("ul",[a("li",[s._v("有时候会看到如下的方式导入包")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这个点操作的含义就是这个包导入之后在调用这个包的函数时,可以省略前缀的包名,也就是前面调用的"),a("code",[s._v('fmt.Println("hello world")')]),s._v("可以省略的写成"),a("code",[s._v('Println("hello world")')])]),s._v(" "),a("p",[a("strong",[s._v("C：起别名")])]),s._v(" "),a("ul",[a("li",[s._v("别名操作顾名思义可以把包命名成另一个用起来容易记忆的名字.导入时,可以为包定义别名,语法演示")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  p1 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package1"')]),s._v("\n  p2 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package2"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用时：别名操作,调用包函数时前缀变成了前缀")]),s._v("\np1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("D：_操作")])]),s._v(" "),a("ul",[a("li",[s._v("如果仅仅需要导入包时执行初始化操作,并不需要使用包内的其他函数,常量等资源.则可以在导入包时,匿名导入.")])]),s._v(" "),a("p",[s._v("这个操作经常是让很多人费解的一个操作符,请看下面这个"),a("code",[s._v("import")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database/sql"')]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("_")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/ziutek/mymysql/godrv"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("code",[s._v("_")]),s._v("操作其实是引入该包,而不直接使用包里面的函数,而是调用了该包里面的"),a("code",[s._v("init")]),s._v("函数.也就是说,使用下划线作为包的别名,会仅仅执行"),a("code",[s._v("init()")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("导入的包的路径名,可以是相对路径也可以是绝对路径,推荐使用绝对路径(起始于工程根目录).")])]),s._v(" "),a("h4",{attrs:{id:"_4、gopath环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、gopath环境变量"}},[s._v("#")]),s._v(" 4、GOPATH环境变量")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("import")]),s._v("导入时,会从"),a("code",[s._v("GO")]),s._v("的安装目录(也就是"),a("code",[s._v("GOROOT")]),s._v("环境变量设置的目录)和"),a("code",[s._v("GOPATH")]),s._v("环境变量设置的目录中,检索"),a("code",[s._v("src/package")]),s._v("来导入包.如果不存在,则导入失败.")]),s._v(" "),a("li",[a("code",[s._v("GOROOT")]),s._v(",就是"),a("code",[s._v("GO")]),s._v("内置的包所在的位置.")]),s._v(" "),a("li",[a("code",[s._v("GOPATH")]),s._v(",就是自己定义的包的位置.")]),s._v(" "),a("li",[s._v("通常在开发"),a("code",[s._v("Go")]),s._v("项目时,调试或者编译构建时,需要设置"),a("code",[s._v("GOPATH")]),s._v("指向项目目录,目录中的"),a("code",[s._v("src")]),s._v("目录中的包就可以被导入了.")])]),s._v(" "),a("h4",{attrs:{id:"_5、init-包初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、init-包初始化"}},[s._v("#")]),s._v(" 5、init() 包初始化")]),s._v(" "),a("ul",[a("li",[s._v("详细的介绍一下这两个函数："),a("code",[s._v("init()、main()")]),s._v("是"),a("code",[s._v("go")]),s._v("语言中的保留函数.可以在源码中,定义"),a("code",[s._v("init()")]),s._v("函数.此函数会在包被导入时执行,例如如果是在"),a("code",[s._v("main")]),s._v("中导入包,包中存在"),a("code",[s._v("init()")]),s._v(",那么"),a("code",[s._v("init()")]),s._v("中的代码会在"),a("code",[s._v("main()")]),s._v("函数执行前执行,用于初始化包所需要的特定资料.例如:")])]),s._v(" "),a("p",[a("strong",[s._v("包源码:")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("userPackage"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" userPackage\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tool init"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("主函数源码：")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userPackage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main run"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用userPackage")]),s._v("\n  userPackage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SomeFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("执行时,会先输出"),a("code",[s._v('"tool init"')]),s._v(",再输出"),a("code",[s._v('"main run"')]),s._v(".")]),s._v(" "),a("p",[a("strong",[s._v("详细的来介绍一下"),a("code",[s._v("init()、main()")]),s._v("这两个函数.在"),a("code",[s._v("go")]),s._v("语言中的区别如下:")])]),s._v(" "),a("p",[s._v("相同点:")]),s._v(" "),a("ul",[a("li",[s._v("两个函数在定义时不能有任何的参数和返回值.")]),s._v(" "),a("li",[s._v("该函数只能由"),a("code",[s._v("go")]),s._v("程序自动调用,不可以被引用.")])]),s._v(" "),a("p",[s._v("不同点:")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("init")]),s._v("可以应用于任意包中,且可以重复定义多个.")]),s._v(" "),a("li",[a("code",[s._v("main")]),s._v("函数只能用于"),a("code",[s._v("main")]),s._v("包中,且只能定义一个.")])]),s._v(" "),a("p",[a("strong",[s._v("两个函数的执行顺序:")])]),s._v(" "),a("ul",[a("li",[s._v("在"),a("code",[s._v("main")]),s._v("包中的"),a("code",[s._v("go")]),s._v("文件默认总是会被执行.")]),s._v(" "),a("li",[s._v("对同一个"),a("code",[s._v("go")]),s._v("文件的"),a("code",[s._v("init( )")]),s._v("调用顺序是从上到下的.")]),s._v(" "),a("li",[s._v("对同一个"),a("code",[s._v("package")]),s._v("中的不同文件,将文件名按字符串进行“从小到大”排序,之后顺序调用各文件中的"),a("code",[s._v("init()")]),s._v("函数.")]),s._v(" "),a("li",[s._v("对于不同的"),a("code",[s._v("package")]),s._v(",如果不相互依赖的话,按照"),a("code",[s._v("main")]),s._v("包中"),a("code",[s._v("import")]),s._v("的顺序调用其包中的"),a("code",[s._v("init()")]),s._v("函数.")]),s._v(" "),a("li",[s._v("如果"),a("code",[s._v("package")]),s._v("存在依赖,调用顺序为最后被依赖的最先被初始化,例如：导入顺序"),a("code",[s._v("main –> A –> B –> C")]),s._v(",则初始化顺序为"),a("code",[s._v("C –> B –> A –> main")]),s._v(",依次执行对应的"),a("code",[s._v("init")]),s._v("方法."),a("code",[s._v("main")]),s._v("包总是被最后一个初始化,因为它总是依赖别的包")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://bruce-log-img.oss-cn-shanghai.aliyuncs.com/image-20221026214854665.png",alt:"image-20221026214854665"}})]),s._v(" "),a("ul",[a("li",[s._v("避免出现循环"),a("code",[s._v("import")]),s._v(",例如："),a("code",[s._v("A –> B –> C –> A")]),s._v(".\n"),a("ul",[a("li",[s._v("一个包被其它多个包"),a("code",[s._v("import")]),s._v(",但只能被初始化一次")])])])]),s._v(" "),a("h4",{attrs:{id:"_6、管理外部包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、管理外部包"}},[s._v("#")]),s._v(" 6、管理外部包")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("go")]),s._v("允许"),a("code",[s._v("import")]),s._v("不同代码库的代码.对于"),a("code",[s._v("import")]),s._v("要导入的外部的包,可以使用"),a("code",[s._v("go get")]),s._v("命令取下来放到"),a("code",[s._v("GOPATH")]),s._v("对应的目录中去.")])]),s._v(" "),a("p",[s._v("比如说想通过"),a("code",[s._v("go")]),s._v("语言连接"),a("code",[s._v("mysql")]),s._v("数据库,那么需要先下载"),a("code",[s._v("mysql")]),s._v("的数据包,打开终端并输入以下命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ go get github.com/go-sql-driver/mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装之后,就可以在"),a("code",[s._v("gopath")]),s._v("目录的"),a("code",[s._v("src")]),s._v("下,看到对应的文件包目录:")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://bruce-log-img.oss-cn-shanghai.aliyuncs.com/image-20221023000346259.png",alt:"image-20221023000346259"}})]),s._v(" "),a("blockquote",[a("p",[s._v("也就是说,对于"),a("code",[s._v("go")]),s._v("语言来讲,其实并不关心代码是内部还是外部的,总之都在"),a("code",[s._v("GOPATH")]),s._v("里,任何"),a("code",[s._v("import")]),s._v("包的路径都是从"),a("code",[s._v("GOPATH")]),s._v("开始的;唯一的区别,就是内部依赖的包是开发者自己写的,外部依赖的包是"),a("code",[s._v("go get")]),s._v("下来的.")])]),s._v(" "),a("h3",{attrs:{id:"扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[s._v("#")]),s._v(" 扩展")]),s._v(" "),a("ul",[a("li",[s._v("可以通过"),a("code",[s._v("go install")]),s._v("来编译包文件.")]),s._v(" "),a("li",[s._v("一个非"),a("code",[s._v("main")]),s._v("包在编译后会生成一个"),a("code",[s._v(".a")]),s._v("文件(在临时目录下生成,除非使用"),a("code",[s._v("go install")]),s._v("安装到"),a("code",[s._v("$GOROOT")]),s._v("或"),a("code",[s._v("$GOPATH")]),s._v("下,否则看不到"),a("code",[s._v(".a")]),s._v("),用于后续可执行程序链接使用.")]),s._v(" "),a("li",[s._v("比如"),a("code",[s._v("Go")]),s._v("标准库中的包对应的源码部分路径在："),a("code",[s._v("$GOROOT/src")]),s._v(",而标准库中包编译后的"),a("code",[s._v(".a文")]),s._v("件路径在"),a("code",[s._v("$GOROOT/pkg/darwin_amd64")]),s._v("下.")])])])}),[],!1,null,null,null);a.default=e.exports}}]);