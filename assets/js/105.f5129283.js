(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{440:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"编码规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编码规范"}},[s._v("#")]),s._v(" 编码规范")]),s._v(" "),a("p",[s._v("规范旨在为日常Go项目开发提供一个代码的规范指导,方便团队形成一个统一的代码风格,提高代码的可读性,规范性和统一性.这里是从命名规范,注释规范,代码风格和"),a("code",[s._v("Go")]),s._v("语言提供的常用的工具这几个方面做一个说明.参考了"),a("code",[s._v("go")]),s._v("语言官方代码的风格制定.")]),s._v(" "),a("h4",{attrs:{id:"一、-命名规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、-命名规范"}},[s._v("#")]),s._v(" 一、 命名规范")]),s._v(" "),a("p",[s._v("命名是代码规范中很重要的一部分,统一的命名规则有利于提高的代码的可读性,好的命名仅仅通过命名就可以获取到足够多的信息.")]),s._v(" "),a("p",[s._v("Go在命名时以字母a到Z或a到Z或下划线开头,后面跟着零或更多的字母、下划线和数字(0到9)."),a("strong",[s._v("Go不允许在命名时中使用@、$和%等标点符号.Go是一种区分大小写的编程语言.因此,Manpower和manpower是两个不同的命名.")])]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("当命名(包括常量、变量、类型、函数名、结构字段等等)以一个大写字母开头,如:"),a("code",[s._v("Group1")]),s._v(",那么使用这种形式的标识符的对象就"),a("strong",[s._v("可以被外部包的代码所使用")]),s._v("(客户端程序需要先导入这个包),这被称为导出(像面向对象语言中的 public);")]),s._v(" "),a("li",[a("strong",[s._v("命名如果以小写字母开头,则对包外是不可见的,但是他们在整个包的内部是可见并且可用的")]),s._v("(像面向对象语言中的private)")])])]),s._v(" "),a("h5",{attrs:{id:"_1、包命名-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、包命名-package"}},[s._v("#")]),s._v(" 1、包命名：package")]),s._v(" "),a("p",[s._v("保持package的名字和目录保持一致,尽量采取有意义的包名,简短,有意义,尽量和标准库不要冲突.包名应该为"),a("strong",[s._v("小写")]),s._v("单词,不要使用下划线或者混合大小写.")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" demo\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2、-文件命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-文件命名"}},[s._v("#")]),s._v(" 2、 文件命名")]),s._v(" "),a("p",[s._v("尽量采取有意义的文件名,简短,有意义,应该为"),a("strong",[s._v("小写")]),s._v("单词,使用"),a("strong",[s._v("下划线")]),s._v("分隔各个单词.")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("my_test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_3、-结构体命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-结构体命名"}},[s._v("#")]),s._v(" 3、 结构体命名")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("采用驼峰命名法,首字母根据访问控制大写或者小写")])]),s._v(" "),a("li",[a("p",[s._v("struct 申明和初始化格式采用多行,例如下面:")])])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 多行申明")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" User "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Username  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n    Email     "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 多行初始化")]),s._v("\nu "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"astaxie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    Email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"astaxie@gmail.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h5",{attrs:{id:"_4、-接口命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、-接口命名"}},[s._v("#")]),s._v(" 4、 接口命名")]),s._v(" "),a("ul",[a("li",[s._v("命名规则基本和上面的结构体类型")]),s._v(" "),a("li",[s._v("单个函数的结构名以“er”作为后缀,例如 Reader , Writer .")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" Reader "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("n "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_5、变量命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、变量命名"}},[s._v("#")]),s._v(" 5、变量命名")]),s._v(" "),a("ul",[a("li",[s._v("和结构体类似,变量名称一般遵循驼峰法,首字母根据访问控制原则大写或者小写,但遇到特有名词时,需要遵循以下规则：\n"),a("ul",[a("li",[s._v("如果变量为私有,且特有名词为首个单词,则使用小写,如"),a("code",[s._v("apiClient")])]),s._v(" "),a("li",[s._v("其它情况都应当使用该名词原有的写法,如"),a("code",[s._v("APIClient")]),s._v("、"),a("code",[s._v("repoID")]),s._v("、"),a("code",[s._v("UserID")])]),s._v(" "),a("li",[s._v("错误示例:"),a("code",[s._v("UrlArray")]),s._v(",应该写成"),a("code",[s._v("urlArray")]),s._v("或者"),a("code",[s._v("URLArray")])])])]),s._v(" "),a("li",[s._v("若变量类型为"),a("code",[s._v("bool")]),s._v("类型,则名称应以"),a("code",[s._v("Has")]),s._v(","),a("code",[s._v("Is")]),s._v(","),a("code",[s._v("Can")]),s._v("或 "),a("code",[s._v("Allow")]),s._v("开头")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" isExist "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" hasConflict "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" canManage "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" allowGitHook "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"_6、常量命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、常量命名"}},[s._v("#")]),s._v(" 6、常量命名")]),s._v(" "),a("p",[s._v("常量均需使用全部大写字母组成,并使用下划线分词")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" APP_VER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果是枚举类型的常量,需要先创建相应类型：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" Scheme "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    HTTP  Scheme "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),s._v("\n    HTTPS Scheme "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h5",{attrs:{id:"_7、-关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、-关键字"}},[s._v("#")]),s._v(" 7、 关键字")]),s._v(" "),a("p",[s._v("下面的列表显示了Go中的保留字.这些保留字不能用作常量或变量或任何其他标识符名称.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://bruce-log-img.oss-cn-shanghai.aliyuncs.com/image-20220807152906968.png",alt:"image-20220807152906968"}})]),s._v(" "),a("h4",{attrs:{id:"二、注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、注释"}},[s._v("#")]),s._v(" 二、注释")]),s._v(" "),a("p",[s._v("Go提供C风格的"),a("code",[s._v("/* */")]),s._v("块注释和C ++风格的"),a("code",[s._v("//")]),s._v("行注释.行注释是常态;块注释主要显示为包注释,但在表达式中很有用或禁用大量代码.")]),s._v(" "),a("ul",[a("li",[s._v("单行注释是最常见的注释形式,可以在任何地方使用以"),a("code",[s._v("//")]),s._v("开头的单行注释")]),s._v(" "),a("li",[s._v("多行注释也叫块注释,均已以 /* 开头,并以 */ 结尾,且不可以嵌套使用,多行注释一般用于包的文档描述或注释成块的代码片段")])]),s._v(" "),a("p",[a("code",[s._v("go")]),s._v("语言自带的"),a("code",[s._v("godoc")]),s._v("工具可以根据注释生成文档,生成可以自动生成对应的网站( "),a("code",[s._v("golang.org")]),s._v("就是使用"),a("code",[s._v("godoc")]),s._v("工具直接生成的),注释的质量决定了生成的文档的质量.每个包都应该有一个包注释,在package子句之前有一个块注释.对于多文件包,包注释只需要存在于一个文件中,任何一个都可以.包评论应该介绍包,并提供与整个包相关的信息.它将首先出现在"),a("code",[s._v("godoc")]),s._v("页面上,并应设置下面的详细文档.")]),s._v(" "),a("p",[s._v("详细的如何写注释可以参考："),a("a",{attrs:{href:"http://golang.org/doc/effective_go.html#commentary",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://golang.org/doc/effective_go.html#commentary"),a("OutboundLink")],1)]),s._v(" "),a("h5",{attrs:{id:"_1、包注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、包注释"}},[s._v("#")]),s._v(" 1、包注释")]),s._v(" "),a("p",[s._v("每个包都应该有一个包注释,一个位于package子句之前的块注释或行注释.包如果有多个go文件,只需要出现在一个go文件中(一般是和包同名的文件)即可. 包注释应该包含下面基本信息(请严格按照这个顺序,简介,创建人,创建时间)：")]),s._v(" "),a("ul",[a("li",[s._v("包的基本简介(包名,简介)")]),s._v(" "),a("li",[s._v("创建者,格式： 创建人： rtx 名")]),s._v(" "),a("li",[s._v("创建时间,格式：创建时间： yyyyMMdd")])]),s._v(" "),a("p",[s._v("例如"),a("code",[s._v("util")]),s._v("包的注释示例如下")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// util 包,该包包含了项目共用的一些常量,封装了项目中一些共用函数.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建人: bruce")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建时间: 20220419")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2、结构-接口-注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、结构-接口-注释"}},[s._v("#")]),s._v(" 2、结构(接口)注释")]),s._v(" "),a("p",[s._v("每个自定义的结构体或者接口都应该有注释说明,该注释对结构进行简要介绍,放在结构体定义的前一行,格式为:  结构体名,结构体说明.同时结构体内的每个成员变量都要有说明,该说明放在成员变量的后面(注意对齐),实例如下:")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// User,用户对象,定义了用户的基础信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" User "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Username  "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用户名")]),s._v("\n    Email     "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 邮箱")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"_3、函数-方法-注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、函数-方法-注释"}},[s._v("#")]),s._v(" 3、函数(方法)注释")]),s._v(" "),a("p",[s._v("每个函数,或者方法(结构体或者接口下的函数称为方法)都应该有注释说明,函数的注释应该包括三个方面(严格按照此顺序撰写):")]),s._v(" "),a("ul",[a("li",[s._v("简要说明,格式说明：以函数名开头,“,”分隔说明部分")]),s._v(" "),a("li",[s._v("参数列表：每行一个参数,参数名开头,“,”分隔说明部分")]),s._v(" "),a("li",[s._v("返回值： 每行一个返回值")])]),s._v(" "),a("p",[s._v("示例如下:")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// NewtAttrModel,属性数据层操作类的工厂方法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 参数:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//      ctx: 上下文信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 返回值:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//      属性操作类指针")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewAttrModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("AttrModel "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h5",{attrs:{id:"_4、代码逻辑注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、代码逻辑注释"}},[s._v("#")]),s._v(" 4、代码逻辑注释")]),s._v(" "),a("p",[s._v("对于一些关键位置的代码逻辑,或者局部较为复杂的逻辑,需要有相应的逻辑说明,方便其他开发者阅读该段代码,实例如下：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从Redis中批量读取属性,对于没有读取到的id,记录到一个数组里面,准备从DB中读取")]),s._v("\nxxxxx\nxxxxxxx\nxxxxxxx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"_5、注释风格"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、注释风格"}},[s._v("#")]),s._v(" 5、注释风格")]),s._v(" "),a("p",[s._v("统一使用中文注释,对于中英文字符之间严格使用空格分隔, 这个不仅仅是中文和英文之间,英文和中文标点之间也都要使用空格分隔,例如：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从Redis中批量读取属性,对于没有读取到的id,记录到一个数组里面,准备从DB中读取")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("上面 Redis 、 id 、 DB 和其他中文字符之间都是用了空格分隔.")]),s._v(" "),a("ul",[a("li",[s._v("建议全部使用单行注释")]),s._v(" "),a("li",[s._v("和代码的规范一样,单行注释不要过长,禁止超过120字符.")])]),s._v(" "),a("h4",{attrs:{id:"三、代码风格"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、代码风格"}},[s._v("#")]),s._v(" 三、代码风格")]),s._v(" "),a("h5",{attrs:{id:"_1、缩进和折行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、缩进和折行"}},[s._v("#")]),s._v(" 1、缩进和折行")]),s._v(" "),a("ul",[a("li",[s._v("缩进直接使用"),a("code",[s._v("gofmt")]),s._v("工具格式化即可("),a("code",[s._v("gofmt")]),s._v("是使用"),a("code",[s._v("tab")]),s._v("缩进的);")]),s._v(" "),a("li",[s._v("折行方面,一行最长不超过120个字符,超过的请使用换行展示,尽量保持格式优雅.")])]),s._v(" "),a("p",[a("strong",[s._v("使用Goland开发工具,可以直接使用快捷键：ctrl+alt+L,即可.")])]),s._v(" "),a("h5",{attrs:{id:"_2、语句的结尾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、语句的结尾"}},[s._v("#")]),s._v(" 2、语句的结尾")]),s._v(" "),a("p",[s._v("Go语言中是不需要类似于Java需要冒号结尾,默认一行就是一条数据")]),s._v(" "),a("p",[s._v("如果打算将多个语句写在同一行,它们则必须使用 "),a("strong",[s._v(";")])]),s._v(" "),a("h5",{attrs:{id:"_3、括号和空格"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、括号和空格"}},[s._v("#")]),s._v(" 3、括号和空格")]),s._v(" "),a("p",[s._v("括号和空格方面,也可以直接使用"),a("code",[s._v("gofmt")]),s._v("工具格式化(go会强制左大括号不换行,换行会报语法错误),所有的运算符和操作数之间要留空格.")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 正确的方式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 错误的方式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a ,0 和 > 之间应该空格")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 左大括号不可以换行,会报语法错误")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h5",{attrs:{id:"_4、import-规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、import-规范"}},[s._v("#")]),s._v(" 4、import 规范")]),s._v(" "),a("p",[s._v("import在多行的情况下,"),a("code",[s._v("goimports")]),s._v("会自动帮格式化,但是这里还是规范一下"),a("code",[s._v("import")]),s._v("的一些规范,如果在一个文件里面引入了一个package,还是建议采用如下格式：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("如果包引入了三种类型的包,标准库包,程序内部包,第三方包,建议采用如下方式进行组织你的包:")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"encoding/json"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"strings"')]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myproject/models"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myproject/controller"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myproject/utils"')]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/astaxie/beego"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/go-sql-driver/mysql"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("有顺序的引入包,不同的类型采用空格分离,第一种实标准库,第二是项目包,第三是第三方包.")]),s._v(" "),a("p",[s._v("在项目中不要使用相对路径引入包:")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是不好的导入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../net"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是正确的做法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"github.com/repo/proj/src/net"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("但是如果是引入本项目中的其他包,最好使用相对路径.")]),s._v(" "),a("h5",{attrs:{id:"_5、错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、错误处理"}},[s._v("#")]),s._v(" 5、错误处理")]),s._v(" "),a("ul",[a("li",[s._v("错误处理的原则就是不能丢弃任何有返回"),a("code",[s._v("err")]),s._v("的调用,不要使用"),a("code",[s._v("_")]),s._v("丢弃,必须全部处理.接收到错误,要么返回"),a("code",[s._v("err")]),s._v(",或者使用"),a("code",[s._v("log")]),s._v("记录下来")]),s._v(" "),a("li",[s._v("尽早return：一旦有错误发生,马上返回")]),s._v(" "),a("li",[s._v("尽量不要使用panic,除非你知道你在做什么")]),s._v(" "),a("li",[s._v("错误描述如果是英文必须为小写,不需要标点结尾")]),s._v(" "),a("li",[s._v("采用独立的错误流进行处理")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 错误写法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// error handling")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// normal code")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 正确写法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// error handling")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// or continue, etc.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// normal code")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h5",{attrs:{id:"_6、测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、测试"}},[s._v("#")]),s._v(" 6、测试")]),s._v(" "),a("p",[s._v("单元测试文件名命名规范为"),a("code",[s._v("example_test.go")]),s._v("\n测试用例的函数名称必须以"),a("code",[s._v("Test")]),s._v("开头,例如："),a("code",[s._v("TestExample")]),s._v("\n每个重要的函数都要首先编写测试用例,测试用例和正规代码一起提交方便进行回归测试")]),s._v(" "),a("h4",{attrs:{id:"四、常用工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、常用工具"}},[s._v("#")]),s._v(" 四、常用工具")]),s._v(" "),a("p",[s._v("前面提到了很过规范,"),a("code",[s._v("go")]),s._v("语言本身在代码规范性这方面也做了很多努力,很多限制都是强制语法要求,例如左大括号不换行,引用的包或者定义的变量不使用会报错,此外"),a("code",[s._v("go")]),s._v("还是提供了很多好用的工具帮助进行代码的规范,")]),s._v(" "),a("h5",{attrs:{id:"gofmt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gofmt"}},[s._v("#")]),s._v(" "),a("strong",[s._v("gofmt")])]),s._v(" "),a("p",[s._v("大部分的格式问题可以通过gofmt解决,"),a("code",[s._v("gofmt")]),s._v("自动格式化代码,保证所有的"),a("code",[s._v("go")]),s._v("代码与官方推荐的格式保持一致,于是所有格式有关问题,都以"),a("code",[s._v("gofmt")]),s._v("的结果为准.")]),s._v(" "),a("h5",{attrs:{id:"goimport"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#goimport"}},[s._v("#")]),s._v(" "),a("strong",[s._v("goimport")])]),s._v(" "),a("p",[s._v("强烈建议使用"),a("code",[s._v("goimport")]),s._v(",该工具在"),a("code",[s._v("gofmt")]),s._v("的基础上增加了自动删除和引入包.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("go get golang.org/x/tools/cmd/goimports\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"go-vet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-vet"}},[s._v("#")]),s._v(" "),a("strong",[s._v("go vet")])]),s._v(" "),a("p",[s._v("vet工具可以帮静态分析源码存在的各种问题,例如多余的代码,提前return的逻辑,struct的tag是否符合标准等.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("go get golang.org/x/tools/cmd/vet\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用如下：")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" vet "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);